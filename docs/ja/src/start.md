# 2. 始め方

この言語を使用して最初のプログラムを書くための基本的な手順を示します。

### 2.1 インストール

**Cargo を使用したインストール**

Sym 言語は、Rust 製で、Cargo を使ってインストールすることができます。以下のコマンドを実行して、インストールしてください。

``` sh
cargo install sym-lang
```

### 2.2 Hello World

Sym 言語での最初のコーディングとして、「Hello World」を出力するプログラムを書いてみましょう。

``` sym
10 13 100 108 114 111 87 32 111 108 108 101 72
13
& ! 1 - @ ~3
```

このコードは少し、複雑に見えますが、各部分を丁寧に解説していきます。まずは、このコードをわかりやすい形式に置き換えます。

```
`n` `\` `d` `l` `r` `o` `W` ` ` `o` `l` `l` `e` `H`
13
swap out 1 - dup jnz(3)
```

まず、前提として、Sym 言語はスペースと改行で命令を分割します。

**1 行目**
数字が並んでいます。Sym 言語では、数値(0 ~ 255)のみをデータとして扱うことができます。
数値は、そのまま書くと、スタックにプッシュできます。

Sym 言語では、文字や文字列はなく、ascii のコードを１０進数表記にして扱います。
これらの数値は10進数の ascii で、"Hello World\n"を逆にしてプッシュしています。
また、最初の`10 13`は改行文字です。

  Note: 文字と文字列、リバース操作は Ver 1.1.0 で追加される予定です。

**2 行目**
13 という数値がスタックに積まれます。
これは出力する文字列の長さです。後の処理でのループ制御に使用します。

**3 行目**
三行目では、文字を１つずつ出力するための処理を行います。
ステップごとに分解して説明します。

- &(swap) : 現在のスタックのトップにある数値 13 (文字列の長さ)と、その下にある最初の文字'H'(72)を入れ替えます。これにより、次の命令で文字を出力できるようにします。
- !(out) : スタックのトップにある文字'H'(72)を ascii として出力します。
- 1 - : １文字出力したので、文字列の長さから1を引きます。これにより、次回ループ時に、残りの文字列がわかります。
- @(dup) : スタックのトップにある、減算後の文字列の長さの値をコピーします。この値が次の命令に使われます。
- ~3(jnz(3)) : スタックのトップの値が0でない場合に、３行目にジャンプします。これにより、文字列の全てが出力されるまで、ループが繰り返されます。
